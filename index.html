<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Fabric Scaling Tool</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
  <h3>Fabric Scaling Tool.</h3>
  <div id="rulers">
    <div id="veiw-scale-options" onclick="changeVeiwScaleOptions()">
      <label class="scale-option-label">
        <input type="radio" name="scale-options" value="12" checked />
        <span>12 Inches</span>
      </label>

      <label class="scale-option-label">
        <input type="radio" name="scale-options" value="24" />
        <span>24 Inches</span>
      </label>

      <label class="scale-option-label">
        <input type="radio" name="scale-options" value="72" />
        <span>Fabric Width</span>
      </label>

    </div>
    <div id="vertical-ruler"></div>
    <div id="horizontal-ruler"></div>
    <div id="output" src="IMG_9480.JPG"></div>
  </div>

  <input type="number" onchange="changeScale()" value="12" id="width"/>
  <input type="number" onchange="changeScale()" value="12" id="height"/>

  <input type="file" onchange="displayImage()" />

  <script>
    var scaleFactor = 12;
    var imageWidth = 12;
    var imageHeight = 12;

    const rulerSize = 3;


    function changeVeiwScaleOptions() {
      var value = document.querySelector('input[name="scale-options"]:checked').value;
      scaleFactor = value;
      setImageScale();
    }

    function changeScale() {
      imageWidth = document.getElementById("width").value;
      imageHeight = document.getElementById("height").value;
      setImageScale();
    }

    function setImageScale() {
      var width = (imageWidth * rulerSize) / scaleFactor;
      var height = (imageHeight * rulerSize) / scaleFactor;
      document.documentElement.style.setProperty('--image-width', width + 'in');
      document.documentElement.style.setProperty('--image-height', height + "in");
    }
    setImageScale();
    
    function displayImage() {
      var image = document.getElementById('output')
      var url = URL.createObjectURL(event.target.files[0]);
      image.style.setProperty('background-image', "url(" + url + ")");
    }
  </script>
  <script src="script.js"></script>
</body>

</html>